# ========================================================================
# BailBondPro - Production Environment Configuration
# Version: 1.0.0
# Last Updated: 2024-12-19
# ========================================================================

# Application Configuration
NODE_ENV=production
PORT=3000
APP_NAME=BailBondPro
APP_VERSION=1.0.0
APP_URL=https://bailbondpro.com
API_URL=https://api.bailbondpro.com

# Database Configuration
DATABASE_URL=postgresql://bailbondpro:CHANGE_ME@localhost:5432/bailbondpro
DB_HOST=localhost
DB_PORT=5432
DB_NAME=bailbondpro
DB_USER=bailbondpro
DB_PASSWORD=CHANGE_ME
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_TIMEOUT=30000

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME
REDIS_DB=0
REDIS_MAXMEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Authentication & Security
JWT_SECRET=CHANGE_ME_TO_SECURE_RANDOM_STRING
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
ENCRYPTION_KEY=CHANGE_ME_TO_32_CHAR_ENCRYPTION_KEY
SESSION_SECRET=CHANGE_ME_TO_SECURE_SESSION_SECRET
SESSION_TIMEOUT=3600
BCRYPT_ROUNDS=12

# CORS & Security Headers
CORS_ORIGIN=https://bailbondpro.com,https://admin.bailbondpro.com
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400
ALLOWED_HOSTS=bailbondpro.com,admin.bailbondpro.com
TRUST_PROXY=true

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# File Upload & Storage
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/csv
UPLOAD_DESTINATION=./uploads
MAX_FILES_PER_REQUEST=10

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=CHANGE_ME
AWS_SECRET_ACCESS_KEY=CHANGE_ME
AWS_REGION=us-west-2
S3_BUCKET_NAME=bailbondpro-production
S3_ENDPOINT=https://s3.us-west-2.amazonaws.com
S3_FORCE_PATH_STYLE=false
S3_SIGNED_URL_EXPIRES=3600

# Email Configuration (SendGrid)
SENDGRID_API_KEY=CHANGE_ME
FROM_EMAIL=noreply@bailbondpro.com
FROM_NAME=BailBondPro
SUPPORT_EMAIL=support@bailbondpro.com
ADMIN_EMAIL=admin@bailbondpro.com

# Payment Processing (Stripe)
STRIPE_PUBLISHABLE_KEY=pk_live_CHANGE_ME
STRIPE_SECRET_KEY=sk_live_CHANGE_ME
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_ME
STRIPE_SUCCESS_URL=https://bailbondpro.com/payment/success
STRIPE_CANCEL_URL=https://bailbondpro.com/payment/cancel

# Webhook Configuration
WEBHOOK_SECRET=CHANGE_ME_TO_SECURE_WEBHOOK_SECRET
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRIES=3
WEBHOOK_RETRY_DELAY=5000

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_LOGGING=true

# Monitoring & Observability
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_PROFILING=false
METRICS_PORT=9090
METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/api/health

# Error Tracking (Sentry)
SENTRY_DSN=CHANGE_ME
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0
SENTRY_SAMPLE_RATE=0.1
SENTRY_TRACES_SAMPLE_RATE=0.1

# Application Performance Monitoring (DataDog)
DATADOG_API_KEY=CHANGE_ME
DATADOG_APP_KEY=CHANGE_ME
DATADOG_SERVICE_NAME=bailbondpro
DATADOG_ENV=production
DATADOG_VERSION=1.0.0

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_TWO_FACTOR_AUTH=true
ENABLE_AUDIT_LOGGING=true
ENABLE_BACKUP_NOTIFICATIONS=true
ENABLE_MAINTENANCE_MODE=false

# Business Logic Configuration
DEFAULT_TIMEZONE=America/New_York
DEFAULT_CURRENCY=USD
DEFAULT_LANGUAGE=en
MAX_BOND_AMOUNT=1000000
MIN_BOND_AMOUNT=100
BOND_FEE_PERCENTAGE=10
LATE_FEE_PERCENTAGE=5
PAYMENT_DUE_DAYS=30

# Compliance & Legal
ENABLE_GDPR_COMPLIANCE=true
ENABLE_CCPA_COMPLIANCE=true
ENABLE_AUDIT_TRAIL=true
DATA_RETENTION_DAYS=2555
BACKUP_RETENTION_DAYS=90
LOG_RETENTION_DAYS=365

# Third-Party Integrations
GIBSON_API_URL=https://api.gibson.com
GIBSON_API_KEY=CHANGE_ME
GIBSON_API_SECRET=CHANGE_ME
GIBSON_TIMEOUT=30000

# Background Jobs & Queues
QUEUE_REDIS_URL=redis://localhost:6379/1
QUEUE_CONCURRENCY=5
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=5000
ENABLE_SCHEDULED_JOBS=true

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_KEYS=10000
ENABLE_QUERY_CACHE=true
ENABLE_RESPONSE_CACHE=true
CACHE_COMPRESSION=true

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/bailbondpro.crt
SSL_KEY_PATH=/etc/ssl/private/bailbondpro.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# Development & Debug (Disabled in Production)
DEBUG=false
ENABLE_DEBUG_ROUTES=false
ENABLE_SWAGGER_UI=false
ENABLE_GRAPHQL_PLAYGROUND=false
PRETTY_PRINT_JSON=false

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true
BACKUP_S3_BUCKET=bailbondpro-backups
BACKUP_NOTIFICATION_EMAIL=admin@bailbondpro.com

# Performance Tuning
MAX_REQUEST_SIZE=50mb
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000
HEADERS_TIMEOUT=60000
MAX_CONNECTIONS=1000
CLUSTER_WORKERS=0

# Security Headers
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline' https://js.stripe.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' https:; connect-src 'self' https:; frame-src https://js.stripe.com;
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block
REFERRER_POLICY=strict-origin-when-cross-origin

# API Configuration
API_VERSION=v1
API_RATE_LIMIT=1000
API_RATE_WINDOW=3600
API_KEY_HEADER=X-API-Key
API_PAGINATION_LIMIT=100
API_MAX_PAGINATION_LIMIT=1000

# Notification Configuration
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=true
NOTIFICATION_QUEUE_DELAY=5000
MAX_NOTIFICATION_RETRIES=3

# Maintenance & Health Checks
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000
ENABLE_READINESS_PROBE=true
ENABLE_LIVENESS_PROBE=true